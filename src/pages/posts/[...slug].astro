---
import { getCollection } from "astro:content";

import Page from "../../layouts/Page.astro";

export async function getStaticPaths() {
	const blogEntries = await getCollection("posts");
	return blogEntries.map((entry) => ({
		params: { slug: entry.slug },
		props: { entry },
	}));
}

const { entry } = Astro.props;
const { Content } = await entry.render();
const baseurl = import.meta.env.BASE_URL ? import.meta.env.BASE_URL : "";
---

<Page title={entry.data.title} baseurl={baseurl}>
	<div class="flex flex-col items-center">
		<div class="container self-center py-6">
			<div class="border-b-2">
				<h1>{entry.data.title}</h1>
				<p>{entry.data.pubDate}</p>
				<p>{entry.data.author}</p>
			</div>
			<div class="py-6">
				<Content />
			</div>
		</div>
	</div>
</Page>
